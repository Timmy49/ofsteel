<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>OFSteel - Home</title>
  <link rel="icon" href="/ofsteel/files/webicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="styles.css">
</head>
<body class="light">

  <nav class="sidebar">
    <h1>OFSteel</h1>
    <hr>
    <a href="index.html">Home</a>
    <a href="download-links.html">Download Links</a>
    <a href="documentation.html">Documentation</a>
    <button class="toggle-theme legacy-button">OFSteel Legacy</button>
    <button class="toggle-theme theme-toggle-button">Switch to Dark Mode</button>
  </nav>

  <main class="container">
    <h1>OFSteel</h1>
    <h2>Tampermonkey script to log JSON-RPC data</h2>
    <hr>

    <p>OFSteel is a Tampermonkey script to track login info on OFS and store it in Firebase, or download it locally.</p>

    <div class="big-button-group">
      <a href="/ofsteel/files/ofsteel_firebase_tamperauto.user.js" class="big-download" target="_blank">Install OFSteel</a>
      <a href="https://chromewebstore.google.com/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo?hl=en" class="big-download" target="_blank">Install Tampermonkey</a>
    </div>

    <hr>

    <section>
      <h2>Other Links</h2>
      <div class="link-grid">
        <a href="https://github.com/Timmy49/ofsteel" target="_blank">GitHub Scripts</a>
        <a href="https://console.firebase.google.com/u/0/project/ofs-logins/overview" target="_blank">Firebase</a>
        <a href="https://timmy49.github.io/ofs" target="_blank">OFSteel - Legacy</a>
        <a href="/ofsteel/files/ofsteel_firebase" download>OFSteel - Firebase</a>
        <a href="/ofsteel/files/ofsteel_local" download>OFSteel - Local</a>
      </div>
    </section>
  </main>

  <script>
    const themeToggleBtn = document.querySelector('.theme-toggle-button');
    const legacyBtn = document.querySelector('.legacy-button');
    const body = document.body;

    const setTheme = (theme) => {
      body.classList.toggle('dark', theme === 'dark');
      body.classList.toggle('light', theme === 'light');
      themeToggleBtn.textContent = theme === 'dark'
        ? 'Switch to Light Mode'
        : 'Switch to Dark Mode';
      localStorage.setItem('theme', theme);
    };

    // On load
    setTheme(localStorage.getItem('theme') === 'dark' ? 'dark' : 'light');

    themeToggleBtn.addEventListener('click', () => {
      const newTheme = body.classList.contains('light') ? 'dark' : 'light';
      setTheme(newTheme);
    });

    legacyBtn.addEventListener('click', () => {
      window.open('https://timmy49.github.io/ofs/', '_blank');
    });
  </script>

</body>
</html>
